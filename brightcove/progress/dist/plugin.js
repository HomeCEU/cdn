!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),o=function(){function t(e){var n=this;this.player=e,this.progress=0,e.on("loadedmetadata",(function(){return r.__awaiter(n,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.getProgress()];case 1:return t.progress=n.sent(),console.log("Resume: ",this.progress),this.progress>0&&(console.log("Setting Time"),e.currentTime(this.progress),e.play()),[2]}}))}))})),e.on("timeupdate",(function(){var t=e.currentTime();Math.round(t)>n.progress&&(n.progress=Math.round(t)-2,n.trackProgress())})),e.on("ended",(function(){n.progress=100,n.trackProgress(),console.log("Video Ended")})),window.addEventListener("message",(function(e){e.data.event===t.PING&&(console.log("plugin","PINGed"),window.top.postMessage({event:t.PONG},"*"))}))}return t.prototype.trackProgress=function(){console.log("Updating Progress",this.progress),window.top.postMessage({event:t.SEND_PROGRESS,data:this.progress},"*")},t.prototype.getProgress=function(){return window.top.postMessage({event:t.GET_PROGRESS},"*"),new Promise((function(e){var n=function(r){r.data.event===t.GET_PROGRESS&&(e(Number(r.data.data)),window.removeEventListener("message",n))};window.addEventListener("message",n)}))},t.PING="video.progress.ping",t.PONG="video.progress.pong",t.GET_PROGRESS="video.progress.get",t.SEND_PROGRESS="video.progress.set",t}();e.ProgressPlugin=o,videojs.registerPlugin("tracker",(function(t){new o(this)}))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return u})),n.d(e,"__rest",(function(){return i})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return f})),n.d(e,"__awaiter",(function(){return s})),n.d(e,"__generator",(function(){return l})),n.d(e,"__exportStar",(function(){return p})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return y})),n.d(e,"__spread",(function(){return v})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return h})),n.d(e,"__asyncGenerator",(function(){return _})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return m})),n.d(e,"__importStar",(function(){return P})),n.d(e,"__importDefault",(function(){return O}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function a(t,e,n,r){var o,u=arguments.length,i=u<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(u<3?o(i):u>3?o(e,n,i):o(e,n))||i);return u>3&&i&&Object.defineProperty(e,n,i),i}function c(t,e){return function(n,r){e(n,r,t)}}function f(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function s(t,e,n,r){return new(n||(n=Promise))((function(o,u){function i(t){try{c(r.next(t))}catch(t){u(t)}}function a(t){try{c(r.throw(t))}catch(t){u(t)}}function c(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(i,a)}c((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(t){u=[6,t],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function p(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function y(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,u=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=u.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=u.return)&&n.call(u)}finally{if(o)throw o.error}}return i}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var u=arguments[e],i=0,a=u.length;i<a;i++,o++)r[o]=u[i];return r}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),u=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){u.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=o[t](e)).value instanceof h?Promise.resolve(n.value.v).then(c,f):s(u[0][2],n)}catch(t){s(u[0][3],t)}var n}function c(t){a("next",t)}function f(t){a("throw",t)}function s(t,e){t(e),u.shift(),u.length&&a(u[0][0],u[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:h(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function O(t){return t&&t.__esModule?t:{default:t}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BsdWdpbi50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicGxheWVyIiwicHJvZ3Jlc3MiLCJvbiIsInRoaXMiLCJnZXRQcm9ncmVzcyIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50VGltZSIsInBsYXkiLCJNYXRoIiwicm91bmQiLCJ0cmFja1Byb2dyZXNzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZGF0YSIsIlByb2dyZXNzUGx1Z2luIiwiUElORyIsInRvcCIsInBvc3RNZXNzYWdlIiwiUE9ORyIsIlNFTkRfUFJPR1JFU1MiLCJHRVRfUFJPR1JFU1MiLCJQcm9taXNlIiwicmVzb2x2ZSIsImxpc3RlbmVyIiwiTnVtYmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInZpZGVvanMiLCJyZWdpc3RlclBsdWdpbiIsIm9wdGlvbnMiLCJleHRlbmRTdGF0aWNzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJfX2V4dGVuZHMiLCJfXyIsImNvbnN0cnVjdG9yIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJhcHBseSIsIl9fcmVzdCIsImUiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJfX3BhcmFtIiwicGFyYW1JbmRleCIsImRlY29yYXRvciIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJtZXRhZGF0YSIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsIl9fZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwidmVyYiIsIml0ZXJhdG9yIiwidiIsIm9wIiwiVHlwZUVycm9yIiwicG9wIiwicHVzaCIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiX19yZWFkIiwiYXIiLCJlcnJvciIsIl9fc3ByZWFkIiwiY29uY2F0IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImsiLCJhIiwiaiIsImpsIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicSIsInJlc3VtZSIsImZ1bGZpbGwiLCJzZXR0bGUiLCJzaGlmdCIsIl9fYXN5bmNEZWxlZ2F0b3IiLCJfX2FzeW5jVmFsdWVzIiwiX19tYWtlVGVtcGxhdGVPYmplY3QiLCJjb29rZWQiLCJyYXciLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJkZWZhdWx0IiwiX19pbXBvcnREZWZhdWx0Il0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFB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SSxXQUFZLE9BQU9vSSxFQUNsQyxJQUFJL0MsRUFBUyxHQUNiLEdBQVcsTUFBUCtDLEVBQWEsSUFBSyxJQUFJbEIsS0FBS2tCLEVBQVM5SSxPQUFPbUIsZUFBZTFCLEtBQUtxSixFQUFLbEIsS0FBSTdCLEVBQU82QixHQUFLa0IsRUFBSWxCLElBRTVGLE9BREE3QixFQUFPZ0QsUUFBVUQsRUFDVi9DLEVBR0osU0FBU2lELEVBQWdCRixHQUM1QixPQUFRQSxHQUFPQSxFQUFJcEksV0FBY29JLEVBQU0sQ0FBRUMsUUFBU0QiLCJmaWxlIjoicGx1Z2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiZGVjbGFyZSBjb25zdCB2aWRlb2pzOiBhbnk7XG5cbmV4cG9ydCBjbGFzcyBQcm9ncmVzc1BsdWdpbiB7XG4gICAgc3RhdGljIHJlYWRvbmx5IFBJTkcgICAgICAgICAgPSAndmlkZW8ucHJvZ3Jlc3MucGluZyc7XG4gICAgc3RhdGljIHJlYWRvbmx5IFBPTkcgICAgICAgICAgPSAndmlkZW8ucHJvZ3Jlc3MucG9uZyc7XG4gICAgc3RhdGljIHJlYWRvbmx5IEdFVF9QUk9HUkVTUyAgPSAndmlkZW8ucHJvZ3Jlc3MuZ2V0JztcbiAgICBzdGF0aWMgcmVhZG9ubHkgU0VORF9QUk9HUkVTUyA9ICd2aWRlby5wcm9ncmVzcy5zZXQnO1xuICAgIHByb2dyZXNzICAgICAgICAgICAgICAgICAgICAgID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGxheWVyOiBhbnkpIHtcbiAgICAgICAgcGxheWVyLm9uKFwibG9hZGVkbWV0YWRhdGFcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmVzcyA9IGF3YWl0IHRoaXMuZ2V0UHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXN1bWU6ICcsIHRoaXMucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgLy8gSWYgdmlkZW8gcG9zaXRpb24gaXMgZ3JlYXRlciB0aGFuIHplcm8sIHRoYW4gc3RhcnQgcGxheWJhY2sgYXQgdGhhdCBwb2ludC5cbiAgICAgICAgICAgIGlmICh0aGlzLnByb2dyZXNzID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIFRpbWUnKTtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY3VycmVudFRpbWUodGhpcy5wcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgcGxheWVyLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gKysrIEluY3JlbWVudCB0aGUgY29va2llICsrK1xuICAgICAgICAvLyBMaXN0ZW4gZm9yIHdoZW4gdGhlIGN1cnJlbnQgcGxheWJhY2sgcG9zaXRpb24gaGFzIGNoYW5nZWQuIFRoaXMgc2hvdWxkIGJlIGV2ZXJ5IDE1LTI1MCBtaWxsaXNlY29uZHMuXG4gICAgICAgIHBsYXllci5vbihcInRpbWV1cGRhdGVcIiwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHByb2dyZXNzID0gcGxheWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBpbnRlZ2VyIHZhbHVlIGNoYW5nZXMsIHRoZW4gdXBkYXRlIHRoZSBjb29raWVcbiAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKHByb2dyZXNzKSA+IHRoaXMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzID0gTWF0aC5yb3VuZChwcm9ncmVzcykgLSAyO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2tQcm9ncmVzcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyArKysgUmVzZXQgdGhlIGNvb2tpZSArKytcbiAgICAgICAgLy8gV2hlbiB2aWRlbyBwbGF5YmFjayByZWFjaGVzIHRoZSBlbmQsIHRoZW4gcmVzZXQgdGhlIGNvb2tpZSB2YWx1ZSB0byB6ZXJvXG4gICAgICAgIHBsYXllci5vbihcImVuZGVkXCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAxMDA7XG4gICAgICAgICAgICB0aGlzLnRyYWNrUHJvZ3Jlc3MoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdWaWRlbyBFbmRlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuZXZlbnQgPT09IFByb2dyZXNzUGx1Z2luLlBJTkcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGx1Z2luJywgJ1BJTkdlZCcpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy50b3AucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBldmVudDogUHJvZ3Jlc3NQbHVnaW4uUE9OR1xuICAgICAgICAgICAgICAgIH0sICcqJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRyYWNrUHJvZ3Jlc3MoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGluZyBQcm9ncmVzcycsIHRoaXMucHJvZ3Jlc3MpO1xuICAgICAgICB3aW5kb3cudG9wLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGV2ZW50OiBQcm9ncmVzc1BsdWdpbi5TRU5EX1BST0dSRVNTLFxuICAgICAgICAgICAgZGF0YSA6IHRoaXMucHJvZ3Jlc3NcbiAgICAgICAgfSwgJyonKTtcbiAgICB9XG5cbiAgICBnZXRQcm9ncmVzcygpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgICAgICB3aW5kb3cudG9wLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGV2ZW50OiBQcm9ncmVzc1BsdWdpbi5HRVRfUFJPR1JFU1NcbiAgICAgICAgfSwgJyonKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuZXZlbnQgPT09IFByb2dyZXNzUGx1Z2luLkdFVF9QUk9HUkVTUykge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKE51bWJlcihldmVudC5kYXRhLmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIpO1xuICAgICAgICB9KVxuICAgIH1cblxuXG59XG5cbnZpZGVvanMucmVnaXN0ZXJQbHVnaW4oJ3RyYWNrZXInLCBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGxldCBwbHVnaW5IYW5kbGVyID0gbmV3IFByb2dyZXNzUGx1Z2luKHRoaXMpO1xufSk7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9